<div class="page page--large" data-accordion-holder>
  <h1 class="page__title">{{ page.title }}</h1>

  <div class="rte clearfix">{{ page.content }}</div>

  {%- if section.blocks.size > 0 -%}
    <div class="faq accordions-holder" data-section-id="{{ section.id }}" data-section-type="faq">
      {%- for block in section.blocks -%}
        {%- assign current_block = block.settings -%}

        {%- if block.type == 'heading' and current_block.title != blank -%}
          <h3 class="faq__title">{{ current_block.title }}</h3>
        {%- endif -%}

        {%- if block.type == 'question' and current_block.title != blank and current_block.content != blank -%}
          <div class="accordion" data-accordion>
            <h4 class="accordion__title" data-focus-element tabindex="0" data-accordion-toggle>{{ current_block.title }}</h4>

            <div class="accordion__body" data-accordion-body>
              {{ current_block.content }}
            </div>
          </div>
        {%- endif -%}
      {%- endfor -%}
    </div>
  {%- endif -%}
</div>

{% schema %}
  {
    "name": "FAQ",
    "blocks": [
      {
        "name": "Heading",
        "type": "heading",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Heading",
            "default": "Heading"
          }
        ]
      },
      {
        "name": "Question",
        "type": "question",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Question",
            "default": "Question"
          },
          {
            "type": "richtext",
            "id": "content",
            "label": "Answer",
            "default": "<p>Answer</p>"
          }
        ]
      }
    ]
  }
{% endschema %}